<aside class="app-sidebar">
    <div class="sidebar-header">
        <a href="{{ path('app_cms_home') }}" class="sidebar-brand">{{ appTitle }}</a>
    </div>
    <nav class="sidebar-nav">
        <ul>
            <li>
                <a href="{{ path('app_ticket_list') }}"
                   class="{{ app.request.attributes.get('_route') == 'app_ticket_list' ? 'active' : '' }}">
                    <i class="fa-solid fa-ticket"></i>
                    <span>Tickets</span>
                </a>
            </li>
            <li>
                <a href="{{ path('app_ticket_new') }}"
                   class="{{ app.request.attributes.get('_route') == 'app_ticket_new' ? 'active' : '' }}">
                    <i class="fa-solid fa-plus-circle"></i>
                    <span>New ticket</span>
                </a>
            </li>
            <li class="has-submenu {{ (app.request.attributes.get('_route') starts with 'app_category_' or app.request.attributes.get('_route') starts with 'app_article_') ? 'is-open' : '' }}"
                data-controller="sidebar-menu">
                {% if is_granted('ROLE_SUPPORT') %}
                    <a href="#" data-action="click->sidebar-menu#toggle">
                        <i class="fa-solid fa-book"></i>
                        <span>Knowledge base</span>
                        <i class="fa-solid fa-chevron-down submenu-arrow"></i>
                    </a>
                    <ul class="submenu">
                        <li>
                            <a href="{{ path('app_article_list') }}" class="{{ app.request.attributes.get('_route') == 'app_article_list' ? 'active' : '' }}">
                                <span>Articles</span>
                            </a>
                        </li>
                        <li>
                            <a href="{{ path('app_category_list') }}" class="{{ app.request.attributes.get('_route') == 'app_category_list' ? 'active' : '' }}">
                                <span>Categories</span>
                            </a>
                        </li>
                    </ul>
                {% else %}
                    <a href="{{ path('app_kb_index') }}"
                       class="{{ app.request.attributes.get('_route') starts with 'app_kb_' ? 'active' : '' }}">
                        <i class="fa-solid fa-book"></i>
                        <span>Knowledge base</span>
                    </a>
                {% endif %}
            </li>

            {% if is_granted('ROLE_SUPPORT') %}
                <li>
                    <a href="{{ path('app_equipment_list') }}"
                       class="{{ app.request.attributes.get('_route') == 'app_equipment_list' ? 'active' : '' }}">
                        <i class="fa-solid fa-desktop"></i>
                        <span>Equipment</span>
                    </a>
                </li>
                <li>
                    <a href="{{ path('app_statistic_index') }}"
                       class="{{ app.request.attributes.get('_route') == 'app_statistic_index' ? 'active' : '' }}">
                        <i class="fa-solid fa-chart-pie"></i>
                        <span>Statistics</span>
                    </a>
                </li>
            {% endif %}
            <li>
                <a href="{{ path('app_user_edit') }}"
                   class="{{ app.request.attributes.get('_route') == 'app_user_edit' ? 'active' : '' }}">
                    <i class="fa-solid fa-user"></i>
                    <span>My profile</span>
                </a>
            </li>
        </ul>
    </nav>
    <div class="sidebar-footer">
        <a href="{{ path('app_logout') }}">
            <i class="fa-solid fa-right-from-bracket"></i>
            <span>Logout</span>
        </a>
    </div>
</aside>
