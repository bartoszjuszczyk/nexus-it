{% extends 'base.html.twig' %}

{% block title %}{{ app.request.server.get('APP_TITLE') }} â€“ Log in!{% endblock %}

{% block body %}
    <div class="auth-page">
        <div class="auth-header">
            <i class="fa-solid fa-shield-halved"></i>
            <h1>{{ app.request.server.get('APP_TITLE') }}</h1>
        </div>

        <div class="auth-card card">
            <div class="card-body">
                <h3 class="card-title text-center mb-4">Welcome back!</h3>

                <form method="post" action="{{ path('app_login') }}">
                    {% if error %}
                        <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                    {% endif %}

                    <div class="form-group">
                        <label for="inputEmail">E-mail</label>
                        <div class="input-group">
                            <span class="input-group-icon"><i class="fa-solid fa-envelope"></i></span>
                            <input type="email" value="{{ last_username }}" name="_username" id="username" class="form-control" autocomplete="email" required autofocus>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="inputPassword">Password</label>
                        <div class="input-group">
                            <span class="input-group-icon"><i class="fa-solid fa-lock"></i></span>
                            <input type="password" name="_password" id="password" class="form-control" autocomplete="current-password" required>
                        </div>
                    </div>

                    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                    <div class="login-options">
                        <div class="form-check">
                            <input type="checkbox" name="_remember_me" id="remember_me" class="form-check-input">
                            <label for="remember_me" class="form-check-label">Remember Me</label>
                        </div>
                    </div>
                    <div class="login-submit">
                        <button class="btn btn-primary w-100 mt-4" type="submit">
                            Login
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    {#    <div class="app-container"> #}
    {#        <div class="app-main-content"> #}
    {#            <div class="login-form-container"> #}
    {#                <div class="login-form"> #}
    {#                    <form method="post"> #}
    {#                        {% if error %} #}
    {#                            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div> #}
    {#                        {% endif %} #}

    {#                        {% if app.user %} #}
    {#                            <div class="mb-3"> #}
    {#                                You are logged in as {{ app.user.userIdentifier }}, #}
    {#                                <a href="{{ path('app_logout') }}">Logout</a> #}
    {#                            </div> #}
    {#                        {% endif %} #}

    {#                        <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1> #}
    {#                        <label for="username">Email</label> #}
    {#                        <input type="email" value="{{ last_username }}" name="_username" id="username" class="form-control" autocomplete="email" required autofocus> #}
    {#                        <label for="password">Password</label> #}
    {#                        <input type="password" name="_password" id="password" class="form-control" autocomplete="current-password" required> #}
    {#                        <input type="hidden" name="_csrf_token" data-controller="csrf-protection" value="{{ csrf_token('authenticate') }}"> #}

    {#                        #}{# #}
    {#                        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality. #}
    {#                        See https://symfony.com/doc/current/security/remember_me.html #}

    {#                        <div class="checkbox mb-3"> #}
    {#                            <input type="checkbox" name="_remember_me" id="_remember_me"> #}
    {#                            <label for="_remember_me">Remember me</label> #}
    {#                        </div> #}
    {#                        #}

    {#                        <button class="btn btn-lg btn-primary" type="submit"> #}
    {#                            Sign in #}
    {#                        </button> #}
    {#                    </form> #}
    {#                </div> #}
    {#            </div> #}
    {#        </div> #}
    {#    </div> #}
{% endblock %}
